!function(a,e){"use strict";a(function(){var t=a(".ha-dashboard-tabs"),n=t.find(".ha-dashboard-tabs__nav"),i=t.find(".ha-dashboard-tabs__content"),s=a("#toplevel_page_happy-addons"),r=s.find(".wp-submenu");n.on("click",".ha-dashboard-tabs__nav-item",function(e){var t=a(e.currentTarget),n=e.currentTarget.hash,s="#tab-content-"+n.substring(1),o=i.find(s);if(t.is(".nav-item-is--link"))return!0;e.preventDefault(),t.addClass("tab--is-active").siblings().removeClass("tab--is-active"),o.addClass("tab--is-active").siblings().removeClass("tab--is-active"),window.location.hash=n,r.find("a").filter(function(a,e){return n===e.hash}).parent().addClass("current").siblings().removeClass("current")}),window.location.hash&&(n.find('a[href="'+window.location.hash+'"]').click(),r.find("a").filter(function(a,e){return window.location.hash===e.hash}).parent().addClass("current").siblings().removeClass("current")),r.on("click","a",function(e){if(!e.currentTarget.hash)return!0;e.preventDefault(),window.location.hash=e.currentTarget.hash,a(e.currentTarget).parent().addClass("current").siblings().removeClass("current"),n.find('a[href="'+e.currentTarget.hash+'"]').click()});var o=a("#ha-dashboard-form"),c=o.find(".ha-dashboard-widgets"),d=o.find(".ha-dashboard-btn--save");o.on("submit",function(t){t.preventDefault(),a.post({url:e.ajaxUrl,data:{nonce:e.nonce,action:e.action,data:o.serialize()},beforeSend:function(){d.text(".....").css("animation","animateTextIndent infinite 2.5s")},success:function(a){if(a.success)var t=setTimeout(function(){d.css("animation","").attr("disabled",!0).text(e.savedLabel),clearTimeout(t)},500)}})}),o.on("change keyup paste","input",function(){d.attr("disabled",!1).text(e.saveChangesLabel)}),a(".ha-action--btn").on("click",function(e){e.preventDefault();var t=a(this),n=t.data("filter"),i=t.data("action"),s=c.find(".ha-dashboard-widgets__item"),r=s.not(".item--is-pro"),o=s.filter(".item--is-pro"),d=s.not(".item--is-placeholder").find(":checkbox.ha-widget"),h=s.not(".item--is-placeholder").find(":checkbox.ha-feature");if(n)switch(n){case"free":r.show(),o.hide();break;case"pro":r.hide(),o.show();break;case"*":default:s.show()}i&&("enable"===i?d.prop("checked",!0):"disable"===i?d.prop("checked",!1):"enable_feature"===i?h.prop("checked",!0):"disable_feature"===i&&h.prop("checked",!1),d.trigger("change"),h.trigger("change"))}),a(".ha-feature-sub-title-a").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),a(".btn-how-to-contribute").on("click",function(e){e.preventDefault(),a(this).next().show()})})}(jQuery,window.HappyDashboard);